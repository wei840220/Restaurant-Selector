function update(){$("ul").html("");for(var t=0;t<rlist.length;t++){var a=list_html.replace(/{id}/g,t).replace("{name}",rlist[t].name);first_load?$(a).hide().appendTo("ul").delay(100*t).fadeIn(1e3):$("ul").append(a)}first_load=!1,$("button.del").click(function(){rlist.splice(this.id,1),update()})}function pick(){$("h2").html("");var t=Math.floor(Math.random()*rlist.length);$("h2").append(rlist[t].name)}function countdown(){time=15,intervalID=window.setInterval(function(){time>0?(time--,pick()):clearInterval(intervalID)},100)}var dataurl="data.json",rlist=[],list_html="<li id={id}> <name>{name}</name><button class='del' id={id}>Ã—</button></li>";$.ajax({url:dataurl,dataType:"json",error:function(){console.log("error")},success:function(t){console.log("success"),rlist=t,update()}});var first_load=!0;$(".add_btn").click(function(){""==$("input").val()?alert("Invalid input. Please enter again."):(rlist.push({name:$("input").val()}),$("input").val(""),update())});var open=!1;$(".pick_btn").click(function(){open||($(".fill_stock").addClass("fill_stock_open"),open=!0),0==rlist.length?($("h2").html(""),$("h2").append("<i class='fa fa-cutlery' aria-hidden='true'></i><h4>Oops! Haven't add any restaurants?</h4>")):countdown()});var time;